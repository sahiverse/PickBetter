<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Scan product barcodes to get nutritional information with PickBetter">
  <title>ğŸ¥— PickBetter - Scan for Healthier Choices</title>
  
  <!-- CSS -->
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <!-- Header Section -->
  <header class="header">
    <div class="container">
      <h1 class="logo">ğŸ¥— PickBetter</h1>
      <p class="tagline">Scan products for healthier choices</p>
    </div>
  </header>

  <!-- Main Content -->
  <main class="container">
    <!-- Scanner Section -->
    <section id="scanner-section" class="scanner-section">
      <h2>Scan Product Barcode</h2>
      
      <!-- Scanner Container -->
      <div class="scanner-container">
        <div id="reader" class="scanner-preview"></div>
        <p id="scan-status" class="scan-status">Ready to scan</p>
      </div>
      
      <!-- Scanner Controls -->
      <div class="scanner-controls">
        <button id="start-scanner-btn" class="btn btn-primary" aria-label="Start barcode scanner">
          ğŸ“· Start Scanner
        </button>
        <button id="stop-scanner-btn" class="btn btn-secondary hidden" aria-label="Stop barcode scanner">
          â¹ï¸ Stop Scanner
        </button>
      </div>
    </section>

    <!-- Manual Input Section -->
    <section id="manual-input-section" class="manual-input-section">
      <h2>Or enter barcode manually:</h2>
      
      <div class="input-group">
        <label for="barcode-input" class="visually-hidden">Barcode</label>
        <input 
          type="text" 
          id="barcode-input" 
          class="form-input" 
          placeholder="Enter 8-13 digit barcode"
          maxlength="13"
          pattern="[0-9]{8,13}"
          inputmode="numeric"
          autocomplete="off"
          aria-describedby="input-validation"
        >
        <button id="search-btn" class="btn btn-primary" aria-label="Search for product">
          ğŸ” Search
        </button>
      </div>
      
      <div id="input-validation" class="input-validation" role="alert" aria-live="polite"></div>
    </section>

    <!-- Loading Section -->
    <section id="loading" class="loading-section hidden">
      <div class="spinner-container">
        <div class="spinner" aria-hidden="true"></div>
      </div>
      <p id="loading-text">Loading product information...</p>
    </section>

    <!-- Error Section -->
    <section id="error" class="error-section hidden">
      <div class="error-icon" aria-hidden="true">âš ï¸</div>
      <h3>Error</h3>
      <p id="error-message">Something went wrong. Please try again.</p>
      <div class="error-actions">
        <button id="retry-btn" class="btn btn-secondary" aria-label="Try again">
          ğŸ”„ Try Again
        </button>
      </div>
    </section>

    <!-- Results Section -->
    <section id="results" class="results-section hidden">
      <h2>Product Information</h2>
      
      <!-- Product Card -->
      <div class="product-card">
        <!-- Product Image -->
        <div class="product-image-container">
          <img 
            id="product-image" 
            class="product-image" 
            alt="Product image" 
            src="" 
            loading="lazy"
          >
        </div>
        
        <!-- Product Details -->
        <div class="product-details">
          <h3 id="product-name" class="product-name">Product Name</h3>
          <p id="product-brand" class="product-brand">Brand</p>
          <p id="product-category" class="product-category">Category</p>
        </div>
      </div>
      
      <!-- Nutrition Information -->
      <div class="nutrition-card">
        <h3>Nutrition Information (per 100g)</h3>
        <table class="nutrition-table">
          <thead>
            <tr>
              <th>Nutrient</th>
              <th>Amount</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>ğŸ”¥ Calories</td>
              <td id="calories">-</td>
            </tr>
            <tr>
              <td>ğŸ¬ Sugar</td>
              <td id="sugar">-</td>
            </tr>
            <tr>
              <td>ğŸ§‚ Sodium</td>
              <td id="sodium">-</td>
            </tr>
            <tr>
              <td>ğŸ¥© Protein</td>
              <td id="protein">-</td>
            </tr>
            <tr>
              <td>ğŸ§ˆ Fat</td>
              <td id="fat">-</td>
            </tr>
            <tr>
              <td>ğŸŒ¾ Fiber</td>
              <td id="fiber">-</td>
            </tr>
          </tbody>
        </table>
      </div>
      
      <!-- Action Buttons -->
      <div class="result-actions">
        <button id="scan-another-btn" class="btn btn-primary" aria-label="Scan another product">
          ğŸ“· Scan Another
        </button>
      </div>
    </section>
  </main>

  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <p>&copy; 2025 PickBetter. Making healthier choices easier.</p>
      <p><small>Powered by OpenFood Facts database</small></p>
    </div>
  </footer>

  <!-- Scripts -->
  <!-- Barcode Scanner Library -->
  <script src="https://unpkg.com/html5-qrcode"></script>

  <!-- Our Scripts (load in order) -->
  <script src="js/config.js"></script>
  <script src="js/scanner.js"></script>
  <script src="js/api.js"></script>
  <script src="js/ui.js"></script>
  <script src="js/app.js"></script>
</body>
</html>
